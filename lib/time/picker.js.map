{"version":3,"sources":["../../src/time/picker.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAaM,UAAU;cAAV,UAAU;;AASZ,aATE,UAAU,GASU;;;8BATpB,UAAU;;0CASI,IAAI;AAAJ,gBAAI;;;oGATlB,UAAU,mDAUC,IAAI;;cAKjB,KAAK,GAAG;AACJ,sBAAU,EAAG,KAAK;AAClB,oBAAQ,UAtBZ,cAAc,AAsBiB;SAC9B;;cAgBD,YAAY,GAAG,UAAC,CAAC,EAAK;AAClB,aAAC,CAAC,cAAc,EAAE,CAAA;AAClB,kBAAK,QAAQ,CAAC;AACV,wBAAQ,UAzChB,eAAe,AAyCmB;aAC7B,CAAC,CAAA;SACL;;cAED,cAAc,GAAG,UAAC,CAAC,EAAK;AACpB,aAAC,CAAC,cAAc,EAAE,CAAA;AAClB,kBAAK,QAAQ,CAAC;AACV,wBAAQ,UA/ChB,iBAAiB,AA+CmB;aAC/B,CAAC,CAAA;SACL;;cAED,YAAY,GAAG,UAAC,IAAI,EAAK;8BAIjB,MAAK,KAAK;gBAFV,QAAQ,eAAR,QAAQ;gBACR,QAAQ,eAAR,QAAQ;;AAGZ,oBAAQ,CAAC,sBAAO,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAA;;AAEpE,kBAAK,QAAQ,CAAC;AACV,wBAAQ,UA9DhB,cAAc,AA8DmB;aAC5B,CAAC,CAAA;SACL;;AA/CG,cAAK,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAK,KAAK,EAAE,EAAE,UAAU,EAAG,MAAK,cAAc,EAAE,EAAE,CAAC,CAAA;;KACrF;;iBAbC,UAAU;;oDAoBiB;AACzB,gBAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAG,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAAA;SACxD;;;yCAEiB;gBACN,MAAM,GAAK,IAAI,CAAC,KAAK,CAArB,MAAM;;AACd,gBAAM,YAAY,GAAG,uBAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;AAC5C,gBAAM,YAAY,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC;uBAAK,YAAY,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC;aAAA,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;;AAEpG,mBACI,YAAY,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CACvG;SACJ;;;yCA6BiB;yBAIV,IAAI,CAAC,KAAK;gBAFV,UAAU,UAAV,UAAU;gBACV,QAAQ,UAAR,QAAQ;;AAGZ,oBAAQ,QAAQ;AACZ,6BAxER,eAAe;AAyEH,2BACI,4DAAsB,IAAI,CAAC,KAAK;AACf,kCAAU,EAAG,UAAU,AAAE;AACzB,gCAAQ,EAAG,IAAI,CAAC,YAAY,AAAE,IAAG,CACrD;;AAAA,AAEL,6BA9ER,iBAAiB;AA+EL,2BACI,8DAAwB,IAAI,CAAC,KAAK;AACf,gCAAQ,EAAG,IAAI,CAAC,YAAY,AAAE,IAAG,CACvD;;AAAA,AAEL;AACI,2BACI,yDAAgB,UAAU,EAAG,UAAU,AAAE;AACzB,oCAAY,EAAG,IAAI,CAAC,YAAY,AAAE;AAClC,sCAAc,EAAG,IAAI,CAAC,cAAc,AAAE;AACtC,gCAAQ,EAAG,IAAI,CAAC,YAAY,AAAE;uBACzB,IAAI,CAAC,KAAK,EAAK,CACvC;AAAA,aACR;SACJ;;;iCAES;gBACE,UAAU,GAAK,IAAI,CAAC,KAAK,CAAzB,UAAU;;AAClB,gBAAM,OAAO,GAAG,0BAAW,YAAY,EAAE,EAAE,UAAU,EAAG,UAAU,EAAE,CAAC,CAAA;AACrE,mBACI;;kBAAK,SAAS,EAAG,OAAO,AAAE;gBACpB,IAAI,CAAC,cAAc,EAAE;aACrB,CACT;SACJ;;;WApGC,UAAU;SAbA,SAAS;;AAanB,UAAU,CAEL,SAAS,GAAG;AACf,YAAQ,EAAK,+BAAgB,SAAS;AACtC,UAAM,EAAO,gBAAM,SAAS,CAAC,MAAM;AACnC,YAAQ,EAAK,gBAAM,SAAS,CAAC,IAAI;AACjC,cAAU,EAAG,gBAAM,SAAS,CAAC,IAAI;CACpC;kBAiGU,UAAU","file":"picker.js","sourcesContent":["import React, { Component } from \"react\"\nimport MomentPropTypes from \"react-moment-proptypes\"\nimport classNames from \"classnames\"\nimport moment from \"moment\"\nimport TimePickerTime from \"./time.js\"\nimport TimePickerHours from \"./hours.js\"\nimport TimePickerMinutes from \"./minutes.js\"\nimport {\n    VIEW_MODE_TIME,\n    VIEW_MODE_HOURS,\n    VIEW_MODE_MINUTES\n} from \"../config.js\"\n\nclass TimePicker extends Component {\n\n    static propTypes = {\n        dateTime   : MomentPropTypes.momentObj,\n        locale     : React.PropTypes.string,\n        onChange   : React.PropTypes.func,\n        sideBySide : React.PropTypes.bool\n    };\n\n    constructor (...args) {\n        super(...args)\n\n        this.state = Object.assign({}, this.state, { use24Hours : this.get24HoursFlag() })\n    }\n\n    state = {\n        use24Hours : false,\n        viewMode   : VIEW_MODE_TIME\n    };\n\n    componentWillReceiveProps () {\n        this.setState({ use24Hours : this.get24HoursFlag() })\n    }\n\n    get24HoursFlag () {\n        const { locale } = this.props\n        const momentLocale = moment().locale(locale)\n        const actualFormat = [\"LT\", \"LTS\"].map((f) => momentLocale.localeData().longDateFormat(f)).join(\" \")\n\n        return (\n            actualFormat.toLowerCase().indexOf(\"a\") < 1 && actualFormat.replace(/\\[.*?\\]/g, \"\").indexOf(\"h\") < 1\n        )\n    }\n\n    onClickHours = (e) => {\n        e.preventDefault()\n        this.setState({\n            viewMode : VIEW_MODE_HOURS\n        })\n    };\n\n    onClickMinutes = (e) => {\n        e.preventDefault()\n        this.setState({\n            viewMode : VIEW_MODE_MINUTES\n        })\n    };\n\n    onSelectTime = (date) => {\n        const {\n            dateTime,\n            onChange\n        } = this.props\n\n        onChange(moment(dateTime).hour(date.hour()).minutes(date.minutes()))\n\n        this.setState({\n            viewMode : VIEW_MODE_TIME\n        })\n    };\n\n    renderViewMode () {\n        const {\n            use24Hours,\n            viewMode\n        } = this.state\n\n        switch (viewMode) {\n            case VIEW_MODE_HOURS :\n                return (\n                    <TimePickerHours { ...this.props }\n                                     use24Hours={ use24Hours }\n                                     onSelect={ this.onSelectTime } />\n                )\n\n            case VIEW_MODE_MINUTES :\n                return (\n                    <TimePickerMinutes { ...this.props }\n                                       onSelect={ this.onSelectTime } />\n                )\n\n            default :\n                return (\n                    <TimePickerTime use24Hours={ use24Hours }\n                                    onClickHours={ this.onClickHours }\n                                    onClickMinutes={ this.onClickMinutes }\n                                    onSelect={ this.onSelectTime }\n                                    { ...this.props } />\n                )\n        }\n    }\n\n    render () {\n        const { sideBySide } = this.props\n        const classes = classNames(\"timepicker\", { \"col-md-6\" : sideBySide })\n        return (\n            <div className={ classes }>\n                { this.renderViewMode() }\n            </div>\n        )\n    }\n\n}\n\nexport default TimePicker\n"]}